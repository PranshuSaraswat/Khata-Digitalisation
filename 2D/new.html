<!DOCTYPE html>
<html>
<head>
  <title>2D Plot Layout</title>
  <style>
    #sidebar {
      position: absolute;
      top: 10px;
      right: 10px;
      border: 1px solid #ccc;
      padding: 10px;
      width: 200px;
      background: #f9f9f9;
    }
    svg { border: 1px solid black; }
    .plot:hover { fill: #cce; cursor: pointer; }
  </style>
</head>
<body>

<svg width="600" height="600" id="plotCanvas">
  <!-- Plots will be added here -->
</svg>

<div id="sidebar">
  <h3>Plot Info</h3>
  <p id="info">Click on a plot</p>
</div>

<div style="margin: 10px;">
    <h3>Search by N,S,E,W Directions</h3>
    <label>N: <input type="number" id="degN" /></label>
    <label>S: <input type="number" id="degS" /></label>
    <label>E: <input type="number" id="degE" /></label>
    <label>W: <input type="number" id="degW" /></label>
    <button onclick="searchByDegrees()">Search</button>
</div>
  
<script>
  const plots = [
    { plotNo: 1, x: 0, y: 0, width: 120, height: 80, facing: { N: 30, S: 210, E: 90, W: 270 } },
    { plotNo: 2, x: 120, y: 0, width: 100, height: 60, facing: { N: 45, S: 225, E: 135, W: 315 } },
    { plotNo: 3, x: 220, y: 0, width: 120, height: 100, facing: { N: 60, S: 240, E: 150, W: 330 }}, 
    { plotNo: 4, x: 340, y: 0, width: 300, height: 90, facing: { N: 90, S: 270, E: 190, W: 400 }},
    { plotNo: 5, x: 0, y: 200, width: 150, height: 80, facing: { N: 120, S: 300, E: 210, W: 30 } },
    { plotNo: 6, x: 150, y: 200, width: 200, height: 70, facing: { N: 150, S: 330, E: 240, W: 60 } },
    { plotNo: 7, x: 350, y: 200, width: 250, height: 110, facing: { N: 180, S: 360, E: 270, W: 90 } },
    { plotNo: 8, x: 0, y: 500, width: 300, height: 100, facing: { N: 210, S: 30, E: 300, W: 120 } },
    { plotNo: 9, x: 300, y: 520, width: 200, height: 80, facing: { N: 240, S: 60, E: 330, W: 150 } },
    { plotNo: 10, x: 500, y: 450, width: 100, height: 150, facing: { N: 270, S: 90, E: 360, W: 180 } }
  ];

  const roads = [
    { x: 0, y: 350, width: 600, height: 75}, // Example road
    { x: 0, y: 110, width: 600, height: 50 }, // Example road
  ];

  const svg = document.getElementById('plotCanvas');
  const info = document.getElementById('info');

  plots.forEach(plot => {
    const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    rect.setAttribute("x", plot.x);
    rect.setAttribute("y", plot.y);
    rect.setAttribute("width", plot.width);
    rect.setAttribute("height", plot.height);
    rect.setAttribute("fill", "#b46006");
    rect.setAttribute("stroke", "black");
    rect.classList.add("plot");

    rect.addEventListener("click", () => {
      info.innerHTML = `
        <strong>Plot No:</strong> ${plot.plotNo}<br>
        <strong>Size:</strong> ${plot.width} × ${plot.height}<br>
        <strong>Facing:</strong><br>
        - North: ${plot.facing.N}°<br>
        - South: ${plot.facing.S}°<br>
        - East: ${plot.facing.E}°<br>
        - West: ${plot.facing.W}°
      `;
    });

    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
    text.setAttribute("x", plot.x + plot.width / 2 - 30);
    text.setAttribute("y", plot.y + plot.height / 2);
    text.setAttribute("fill", "black");
    text.textContent = "Plot No-"+plot.plotNo;

    svg.appendChild(rect);
    svg.appendChild(text);
  });

  // Add a road as a rectangle in the SVG
  roads.forEach(road => {
    const roadRect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    roadRect.setAttribute("x", road.x);
    roadRect.setAttribute("y", road.y);
    roadRect.setAttribute("width", road.width);
    roadRect.setAttribute("height", road.height);
    roadRect.setAttribute("fill", "#808080"); // Gray color for the road
    roadRect.setAttribute("stroke", "black"); // Optional: border for the road
    //svg.appendChild(roadRect);
  
    const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
    text.setAttribute("x", road.x + road.width / 2 - 30);
    text.setAttribute("y", road.y + road.height / 2);
    text.setAttribute("fill", "black");
    text.textContent = "Road";

    svg.appendChild(roadRect);
    svg.appendChild(text);
});

  // Function to search plots by degrees
  function searchByDegrees() {
  const degN = document.getElementById('degN').value;
  const degS = document.getElementById('degS').value;
  const degE = document.getElementById('degE').value;
  const degW = document.getElementById('degW').value;

  svg.querySelectorAll('rect').forEach((rect, index) => {
    const plot = plots[index];
    const facing = plot.facing;

    const match =
      (!degN || facing.N == degN) &&
      (!degS || facing.S == degS) &&
      (!degE || facing.E == degE) &&
      (!degW || facing.W == degW);

    rect.setAttribute("fill", match ? "#aaf" : "#eee");
  });
  }
</script>

</body>
</html>
